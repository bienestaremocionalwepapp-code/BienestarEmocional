<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Bienestar Emocional</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        /* Aqu√≠ va TODO tu bloque de estilos original (lo mantengo igual) */
        :root {
            --rosa-claro: #FFE5F0;
            --rosa-medio: #FFB6D9;
            --rosa-intenso: #FF85C0;
            --morado-claro: #E8D5FF;
            --morado-medio: #C5A3FF;
            --morado-intenso: #A67FFF;
            --texto-oscuro: #2D2A3D;
            --texto-medio: #5A5570;
            --blanco: #FFFFFF;
            --whatsapp: #25D366;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', sans-serif;
            font-size: 16px;
            color: var(--texto-oscuro);
            line-height: 1.6;
            background: linear-gradient(135deg, var(--rosa-claro) 0%, var(--morado-claro) 100%);
            padding-bottom: 80px;
        }
        /* ... (el resto de tus estilos: header, hero, section, floating-buttons, modal, media queries, etc.) */
        /* No los repito aqu√≠ para no alargar el mensaje, pero en tu archivo s√≠ deben estar todos */
    </style>
</head>
<body>

    <!-- Contenido visible - TODO igual que antes -->
    <header>
        <img src="plantillas_Images/Bienestar Emocional.imagen.124245.png" alt="Bienestar Emocional" class="logo" onerror="this.src='https://via.placeholder.com/200x200/A67FFF/FFFFFF?text=Bienestar+Emocional'">
        <h1>Bienestar Emocional</h1>
        <h1>Para ni√±os adolescentes, adultos, escuelas y empresas.</h1>
        <h1>Atenci√≥n clara, emp√°tica y sin juicios</h1>
    </header>

    <div class="hero">
        <h2>En cada uno de nuestros d√≠as se presentan</h2>
        <p>Momentos en los que podemos acompa√±arte...</p>
    </div>

    <div class="section">
        <h2>Evaluaciones Especializadas</h2>
        <img src="plantillas_Images/imagenevaluaciones.png" alt="Evaluaciones Especializadas" class="modal-image" style="margin-bottom: 1.5rem;" onerror="this.style.display='none'">
        <p><strong>Realizamos evaluaciones psicol√≥gicas</strong></p>
        <ul><li>De manera individual (ni√±os, adolescentes y adultos)... </li></ul>
        <p><strong>Modalidad:</strong> Presencial ‚Ä¢ En l√≠nea</p>
    </div>

    <div class="section">
        <h2>Solicitud de Servicios</h2>
        <p style="text-align: center; margin-bottom: 1.5rem; font-size: 1rem; color: var(--texto-medio);">Selecciona el servicio que necesitas</p>
        <div class="servicios-buttons">
            <!-- Las 4 tarjetas: Empresas, Escuelas, Ni√±os y Adolescentes, Adultos -->
            <!-- Mantengo todo igual, con onclick="openModal('empresas')" etc. -->
        </div>
    </div>

    <!-- Los 4 modales: modalEmpresas, modalEscuelas, modalInfantil, modalAdultos -->
    <!-- Mantengo el contenido original tal cual -->

    <div class="contacto">
        <h2>Contacto</h2>
        <!-- ... el grid con tel√©fono, correo, horario ... -->
    </div>

    <div class="section">
        <h2>üìç C√≥mo Llegar</h2>
        <div class="mapa">
            <iframe src="https://www.google.com/maps/embed?pb=..." allowfullscreen="" loading="lazy"></iframe>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Bienestar Emocional. Todos los derechos reservados.</p>
        <p style="margin-top: 0.5rem; font-size: 0.9rem; opacity: 0.9;">Terapeutas En Constante Actualizaci√≥n Acad√©mica</p>
    </footer>

    <!-- Floating buttons y share modal - igual que antes -->
    <div class="floating-buttons">...</div>
    <div id="shareModal" class="share-modal">...</div>

    <!-- Scripts existentes (modales, compartir, QR, etc.) - NO TOCADOS -->
    <script>
        // Tu c√≥digo original completo aqu√≠: window.addEventListener('load'...) para precargar im√°genes,
        // function openModal(tipo), closeModal, openShareModal, closeShareModal,
        // shareWhatsApp, shareEmail, copyLink, generateQR, window.onclick, keydown Escape, etc.
        // P√©galo exactamente como lo ten√≠as
    </script>

    <!-- SISTEMA DIN√ÅMICO - Insertado correctamente aqu√≠ -->
    <script>
        // ============================================
        // SISTEMA DIN√ÅMICO - BIENESTAR EMOCIONAL
        // ============================================
        const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxv__Im64HXOpGN5O2bONXWRcFg2DgDVz9f00F9v-IXQXi14xZwVLLzoykf5E4zwuoH/exec';

        const CACHE_KEY = 'bienestarEmocional_data';
        const CACHE_TIMESTAMP_KEY = 'bienestarEmocional_timestamp';
        const CACHE_DURATION = 3600000; // 1 hora

        window.addEventListener('DOMContentLoaded', async function() {
            try {
                const cachedData = loadFromCache();
                if (cachedData) {
                    console.log('‚úÖ Cargando desde cach√©...');
                    renderContent(cachedData);
                }

                console.log('üîÑ Actualizando desde Google Sheets...');
                const freshData = await fetchFromGoogleSheets();

                if (freshData && !freshData.error) {
                    saveToCache(freshData);
                    if (JSON.stringify(freshData) !== JSON.stringify(cachedData)) {
                        renderContent(freshData);
                        console.log('‚úÖ Contenido actualizado');
                    }
                } else if (!cachedData) {
                    console.error('‚ùå Error y sin cach√© disponible');
                }
            } catch (error) {
                console.error('Error al cargar datos:', error);
            }
        });

        function loadFromCache() {
            try {
                const timestamp = localStorage.getItem(CACHE_TIMESTAMP_KEY);
                const now = new Date().getTime();
                if (timestamp && (now - parseInt(timestamp)) < CACHE_DURATION) {
                    const data = localStorage.getItem(CACHE_KEY);
                    return data ? JSON.parse(data) : null;
                }
                return null;
            } catch (e) {
                console.error('Error al cargar cach√©:', e);
                return null;
            }
        }

        function saveToCache(data) {
            try {
                localStorage.setItem(CACHE_KEY, JSON.stringify(data));
                localStorage.setItem(CACHE_TIMESTAMP_KEY, new Date().getTime().toString());
            } catch (e) {
                console.error('Error al guardar cach√©:', e);
            }
        }

        async function fetchFromGoogleSheets() {
            try {
                const response = await fetch(APPS_SCRIPT_URL);
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                return await response.json();
            } catch (error) {
                console.error('Error fetch:', error);
                return null;
            }
        }

        function renderContent(data) {
            if (!data || data.error) return;

            if (data.principal) renderPrincipal(data.principal);
            if (data.empresas) renderModalEmpresas(data.empresas);
            if (data.escuelas) renderModalEscuelas(data.escuelas);
            if (data.infantil) renderModalInfantil(data.infantil);
            if (data.adultos) renderModalAdultos(data.adultos);
        }

        // Aqu√≠ van las funciones renderPrincipal, renderModalEmpresas, renderModalEscuelas,
        // renderModalInfantil, renderModalAdultos que ya ten√≠as (p√©galas tal cual del c√≥digo que me enviaste)
        // No las modifico, solo aseg√∫rate de que est√©n completas

    </script>

</body>
</html>






